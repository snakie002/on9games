---
layout: layouts/base.njk
#pagination:
#  data: collections.posts
#  reverse: true
#  size: 100
#  alias: posts
#permalink: "{% if pagination.pageNumber > 0 %}page/{{ pagination.pageNumber + 1 }}{% else %}/{% endif %}"
---

{% set postslist = collections.posts | reverse %}
<div class="flex flex-col lg:flex-row space-x-6">
  <div class="flex flex-col overflow-hidden">
    <div class="mb-8">
      {% include "./_includes/components/carousel.njk" %}
    </div>
    {% set postslistTitle = "最近更新" %}
    {% include "./_includes/components/postslist.njk" %}
  </div>
  <div class="min-w-[350px] w-[350px]">
    <div class="sticky top-20 flex flex-col space-y-6">
      <div>
        {% include "./_includes/components/category-list.njk" %}
      </div>
      <div>
        {% set postslistTitle = "最近更新" %}
        {% set postslist = collections.recentPosts %}
        {% include "./_includes/components/side-postslist.njk" %}
      </div>
    </div>
  </div>
</div>
{% block js %}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var emblaNode = document.querySelector('.embla')
      var options = { loop: true }
      var embla = EmblaCarousel(emblaNode, options, [EmblaCarouselAutoplay()])
    });
  </script>
{% endblock %}